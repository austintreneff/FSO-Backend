{"version":3,"sources":["components/Filter.js","services/personsService.js","components/PersonForm.js","components/DeleteButton.js","components/Persons.js","components/AddedNotification.js","components/ErrorNotication.js","App.js","index.js"],"names":["Filter","newFilter","setNewFilter","value","onChange","event","console","log","target","handleFilterChange","baseUrl","axios","get","then","response","data","person","post","id","delete","newPerson","put","PersonForm","newName","setNewName","newNumber","setNewNumber","persons","setPersons","setAddedMessage","checkNameExists","name","find","obj","toLowerCase","onSubmit","preventDefault","existingUser","window","confirm","personsService","number","updatedPerson","map","addedPerson","concat","setTimeout","handleNameChange","handleNumberChange","type","DeleteButton","setErrorMessage","onClick","filter","personElement","catch","error","handleClick","Persons","includes","AddedNotification","message","className","ErrorNotifcation","App","useState","addedMessage","errorMessage","useEffect","initalPersons","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.698d7ec1.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Filter = ({newFilter, setNewFilter}) => {\n  \n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  return (\n    <div>Filter: <input value={newFilter} onChange={(event) => handleFilterChange(event)}/></div>\n  )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (person) => {\n  const request = axios.post(baseUrl, person)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update}","import React from 'react'\nimport personsService from '../services/personsService'\n\nconst PersonForm = ({ newName, setNewName, newNumber, setNewNumber, persons, setPersons, setAddedMessage}) => {\n\n  const addEntry = (event) => {\n    event.preventDefault()\n    if(checkNameExists(newName)) {\n      const existingUser = checkNameExists(newName)\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        personsService\n          .update(existingUser.id, {...existingUser, number: newNumber})\n          .then(updatedPerson => {\n            setPersons(persons.map(person => person.id === updatedPerson.id ? updatedPerson : person))\n          })\n      }\n    } else {\n      personsService\n        .create({ name: newName, number: newNumber})\n        .then(addedPerson => {\n          setPersons(persons.concat(addedPerson))\n          setAddedMessage(`Added ${addedPerson.name}`)\n          setTimeout(() => setAddedMessage(null), 5000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const checkNameExists = (name) => {\n    return persons.find(obj => obj.name.toLowerCase() === name.toLowerCase())\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  \n  return (\n    <form onSubmit={addEntry}>\n      <div>\n        name: <input value={newName} onChange={(event) => handleNameChange(event)}/>\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={(event) => handleNumberChange(event)}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\nimport personsService from '../services/personsService'\n\nconst DeleteButton = ({ person, persons, setPersons, setErrorMessage }) => {\n  const handleClick = (person, persons, setPersons) => {\n    if (window.confirm(`Delete ${person.name}`)) {\n      console.log(`Delete ${person.name}`)\n      personsService\n        .remove(person.id)\n        .then(() => setPersons(\n          persons.filter(personElement => personElement.id !== person.id)\n        ))\n        .catch(error => {\n          setErrorMessage(`Information of ${person.name} has already been removed from server`)\n          setTimeout(() => setErrorMessage(null), 5000)\n          setPersons(persons.filter(personElement => personElement.id !== person.id))\n        })\n    }\n  }\n\n  return <button onClick={() => handleClick(person, persons, setPersons)}>delete</button>\n}\n\n\n\nexport default DeleteButton","import React from 'react'\nimport DeleteButton from './DeleteButton'\n\nconst Persons = ({persons, setPersons, newFilter, setErrorMessage}) => {\n\n  return (\n    <div>\n      {\n        persons\n          .filter(obj => obj.name.toLowerCase().includes(newFilter.toLowerCase()))\n          .map(person => (\n            <div key={person.id}>\n              {person.name} {person.number} <DeleteButton person={person} persons={persons} setPersons={setPersons} setErrorMessage={setErrorMessage}/>\n            </div>\n          ))\n      }\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst AddedNotification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className='addedNotification'>{message}</div>\n}\n\nexport default AddedNotification","import React from 'react'\n\nconst ErrorNotifcation = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className='errorNotification'>{message}</div>\n}\n\nexport default ErrorNotifcation","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personsService from './services/personsService'\nimport AddedNotification from './components/AddedNotification'\nimport ErrorNotifcation from './components/ErrorNotication'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newFilter, setNewFilter ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ addedMessage, setAddedMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  const hook = () => {\n    personsService\n      .getAll()\n      .then(initalPersons => {\n        console.log(initalPersons)\n        setPersons(initalPersons)\n      })\n  }\n\n  useEffect(hook, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <AddedNotification message={addedMessage}/>\n      <ErrorNotifcation message={errorMessage}/>\n      <Filter newFilter={newFilter} setNewFilter={setNewFilter}/>\n      <h2>Add new:</h2>\n      <PersonForm persons={persons} setPersons={setPersons} newName={newName} newNumber={newNumber} setNewName={setNewName} setNewNumber={setNewNumber} setAddedMessage={setAddedMessage}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} setPersons={setPersons} newFilter={newFilter} setErrorMessage={setErrorMessage}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDom from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDom.render(<App/>, document.getElementById('root'))"],"sourceRoot":""}